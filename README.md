# Hibernate Demo - TP JPA

## 📌 Description

Ce projet est une démonstration simple de l'utilisation de **Hibernate (JPA)** avec une base de données **H2 en mémoire**.

Le projet montre les opérations suivantes :
- Insertion de produits
- Lecture de tous les produits
- Recherche d’un produit par ID

---

## 🛠 Technologies utilisées

- Java 8
- Maven
- Hibernate 5.6
- JPA (javax.persistence)
- H2 Database (base en mémoire)

---

## 📂 Structure du projet

- `Produit.java` : Entité JPA représentant la table Produit
- `persistence.xml` : Fichier de configuration Hibernate
- `App.java` : Classe principale pour tester l'application

---

## ▶️ Exécution du projet

1. Ouvrir le projet dans IntelliJ IDEA
2. Attendre le téléchargement des dépendances Maven
3. Aller dans la classe `App.java`
4. Cliquer droit → Run 'App.main()'

---

## 🧪 Fonctionnement

Au démarrage :

- Hibernate crée automatiquement la table `Produit`
- Trois produits sont insérés :
    - Laptop
    - Smartphone
    - Tablette
- Tous les produits sont affichés dans la console
- Un produit est recherché par ID
- **Les requêtes SQL générées par Hibernate sont affichées dans la console**
---

## 🔍 Affichage du SQL

Grâce à la configuration suivante dans `persistence.xml` :

```xml
<property name="hibernate.show_sql" value="true"/>
<property name="hibernate.format_sql" value="true"/>
```

Hibernate affiche automatiquement les requêtes SQL exécutées.

## 💻 Exemple de sortie console
```
Hibernate: create table Produit (id bigint generated by default as identity, nom varchar(255), prix decimal(19,2), primary key (id))
Hibernate: insert into Produit (id, nom, prix) values (null, ?, ?)
Hibernate: insert into Produit (id, nom, prix) values (null, ?, ?)
Hibernate: insert into Produit (id, nom, prix) values (null, ?, ?)
Produits insérés avec succès !

Liste des produits :
Hibernate: select produit0_.id as id1_0_, produit0_.nom as nom2_0_, produit0_.prix as prix3_0_ from Produit produit0_
Produit{id=1, nom='Laptop', prix=999.99}
Produit{id=2, nom='Smartphone', prix=499.99}
Produit{id=3, nom='Tablette', prix=299.99}

Recherche du produit avec ID=2 :
Hibernate: select produit0_.id as id1_0_0_, produit0_.nom as nom2_0_0_, produit0_.prix as prix3_0_0_ from Produit produit0_ where produit0_.id=?
Produit{id=2, nom='Smartphone', prix=499.99}
```
---

## 🏋️ Exercices supplémentaires

Pour aller plus loin, j'ai étendu le projet avec :

1. Une méthode pour **mettre à jour le prix d'un produit**  
2. Une méthode pour **supprimer un produit**  
3. Une nouvelle entité **Categorie** et établir une relation **ManyToOne** entre `Produit` et `Categorie`  
4. Une méthode pour **rechercher les produits par plage de prix**

## Auteur
- Nom : Malak El Mallouky
- Filliere : SIR





